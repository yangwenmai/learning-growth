# Google SRE 运维解密

## 阅读章节

- 赞誉
- 译者序
- 前言
- 序言
- 第 I 部分：概览
  + 第 1 章：介绍
    + 系统管理员模式
    + Google 的解决之道：SRE
    + SRE 方法论
    + 小结

## 阅读时间

采自“阅读记录 App”。

阅读总时长：53分钟，阅读了两天。
- 第一天（2020-06-28），35分钟
- 第二天（2020-06-29），18分钟
- 第三天（2020-06-30），17分钟

## 前言和序言的读后感

SRE 与传统运维有很大的区别，我理解的是：SRE 代表的是效能，直接负责制。

SRE 是务实的一群人，他们看的是事实，工匠精神始终是他们的追求，并且责任重大。

文中提到：“本书体系化地覆盖了运维工作的方方面面，是一本运维行业的教科书。”
>我认为这个说法是正确的，但是定位有点局限，它是可以面向全部开发者的。

相比软件结果、架构设计而言，思考过程最重要，也最值得我们关注，值得大家的传承。

看代码只能看到结果，我们要去挖掘代码背后的过程，知其然而又知其所以然。

一个公司的成长，意味着整个公司商业模式和工作模式的扩展，而不是简单的资源扩张。

文中指出：“软件工程有的时候和养孩子类似：虽然生育的过程是痛苦和困难的，但是养育孩子成人的过程才是真正序言花费绝大部分精力的地方。”
育人需要时间，也需要精力。

团队文化就是从一切经历中不断学习，包括来自那些我们最意想不到的地方的经历。

对待一个软件系统的运行，我们不能马虎，更不能因为自己很熟悉就得意忘形，因为程序没有发生意外，它的概率就是0，但是一旦发生了，万分之一的概率也是1。

## SRE 介绍

SRE 是由 Google 运维团队的高级副总裁 Ben Treynor Sloss 提出来的。

运维与开发之间的斗智斗勇不应存在，大家的目标应该统一。
最好的团队/系统，应该是自恢复的，一起努力才能达成，否则一个人要三头六臂才能勉强可用。但是我们都是普通人，DevOps 也就应运而生。

DEV 与 OPS 分离会有哪些问题：
- 直接成本
- 间接成本

Google 的解决之道：SRE

**SRE 究竟是如何在 Google 起源的呢？**
SRE 就是让软件工程师来设计一个新型运维团队的结果。

负责运维服务的团队，至少要保证有50%的时间来编程，以提供自动化运维的效能。而这个指标绝不是口头上喊一喊，而是要从上而下由管理层要求的。因为工作总是做不完的，而且是不是还会有新增。这个时候就得靠“老大”来指导了。（把常见的运维工作交还给研发部门，或者从研发部门抽调人力参与运维团队的轮值轮班工作） -> 这就是 DevOps 工程师的前身了吧。

SRE 是 DevOps 模型在 Google 的具体实践，带有一些特别的扩展。

**SRE 方法论之 SRE 团队要承担的职责：**
- 可用性改进
- 延迟优化
- 性能优化
- 效率优化
- 变更管理
- 监控
- 紧急事务处理
- 容量规划与管理

只有当整个团队都认同 SRE 工作模式，认同 50% 安全线的重要性，才会共同努力避免发生妥协，才能达成共识，最终也才能做起事来事半功倍。

所有的线上事故都应该有对应的事后总结，无论有没有触发警报，事故总结应该包括以下内容：事故发生、发现、解决的全过程，事故的根本原因，预防或者优化的解决方案。

一个需要人工阅读邮件和分析警报来决定目前是否需要采取某种行动的系统从本质上就是错误的。

监控系统不应该依赖人来分析警报信息，而是应该由系统自动分析，仅当需要用户执行某种操作时，才需要通知用户。

SRE 的目标是根据一个预设的延迟目标部署和维护足够的容量。

SRE 和产品研发团队应该共同监控和优化整个系统的性能，这样就给服务增加容量和提升效率了。

## 我的小结

SRE 在 Google 的演进，以及我们普通公司是否有必要推进，都可以慢慢的了解到。
即便是自己的公司不适合，但是也不要影响我们对于 SRE 的追求，因为 SRE 是可以代表效率，尽量让自己公司也可以往这个方向去努力。

